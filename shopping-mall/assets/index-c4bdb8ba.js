import{c as V,d as _,ar as I,b as F,e as h,v as w,t as B,x as K,aX as M,g as E,ac as O,z as T,aA as N,r as Y,a as x,J as j,aD as y,O as q,B as A,aY as U,aE as X,aK as H,w as J,aZ as L,A as W}from"./index-ce5e170b.js";const[Z,Q]=V("form"),p={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:w,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:B,showErrorMessage:B,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var ee=_({name:Z,props:p,emits:["submit","failed"],setup(e,{emit:o,slots:m}){const{children:l,linkChildren:c}=I(M),i=n=>n?l.filter(t=>n.includes(t.name)):l,C=n=>new Promise((t,u)=>{const k=[];i(n).reduce((D,R)=>D.then(()=>{if(!k.length)return R.validate().then(G=>{G&&k.push(G)})}),Promise.resolve()).then(()=>{k.length?u(k):t()})}),r=n=>new Promise((t,u)=>{const k=i(n);Promise.all(k.map(f=>f.validate())).then(f=>{f=f.filter(Boolean),f.length?u(f):t()})}),v=n=>{const t=l.find(u=>u.name===n);return t?new Promise((u,k)=>{t.validate().then(f=>{f?k(f):u()})}):Promise.reject()},P=n=>typeof n=="string"?v(n):e.validateFirst?C(n):r(n),S=n=>{typeof n=="string"&&(n=[n]),i(n).forEach(u=>{u.resetValidation()})},s=()=>l.reduce((n,t)=>(n[t.name]=t.getValidationStatus(),n),{}),a=(n,t)=>{l.some(u=>u.name===n?(u.$el.scrollIntoView(t),!0):!1)},b=()=>l.reduce((n,t)=>(t.name!==void 0&&(n[t.name]=t.formValue.value),n),{}),d=()=>{const n=b();P().then(()=>o("submit",n)).catch(t=>{o("failed",{values:n,errors:t}),e.scrollToError&&t[0].name&&a(t[0].name)})},g=n=>{K(n),d()};return c({props:e}),F({submit:d,validate:P,getValues:b,scrollToField:a,resetValidation:S,getValidationStatus:s}),()=>{var n;return h("form",{class:Q(),onSubmit:g},[(n=m.default)==null?void 0:n.call(m)])}}});const me=E(ee),z={name:O,disabled:Boolean,iconSize:w,modelValue:O,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var ne=_({props:T({},z,{bem:N(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:B,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:o,slots:m}){const l=Y(),c=a=>{if(e.parent&&e.bindGroup)return e.parent.props[a]},i=x(()=>{if(e.parent&&e.bindGroup){const a=c("disabled")||e.disabled;if(e.role==="checkbox"){const b=c("modelValue").length,d=c("max"),g=d&&b>=+d;return a||g&&!e.checked}return a}return e.disabled}),C=x(()=>c("direction")),r=x(()=>{const a=e.checkedColor||c("checkedColor");if(a&&e.checked&&!i.value)return{borderColor:a,backgroundColor:a}}),v=x(()=>e.shape||c("shape")||"round"),P=a=>{const{target:b}=a,d=l.value,g=d===b||(d==null?void 0:d.contains(b));!i.value&&(g||!e.labelDisabled)&&o("toggle"),o("click",a)},S=()=>{var a,b;const{bem:d,checked:g,indeterminate:n}=e,t=e.iconSize||c("iconSize");return h("div",{ref:l,class:d("icon",[v.value,{disabled:i.value,checked:g,indeterminate:n}]),style:v.value!=="dot"?{fontSize:y(t)}:{width:y(t),height:y(t),borderColor:(a=r.value)==null?void 0:a.borderColor}},[m.icon?m.icon({checked:g,disabled:i.value}):v.value!=="dot"?h(j,{name:n?"minus":"success",style:r.value},null):h("div",{class:d("icon--dot__icon"),style:{backgroundColor:(b=r.value)==null?void 0:b.backgroundColor}},null)])},s=()=>{if(m.default)return h("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[m.default()])};return()=>{const a=e.labelPosition==="left"?[s(),S()]:[S(),s()];return h("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},C.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:P},[a])}}});const[te,$]=V("cell-group"),ae={title:String,inset:Boolean,border:B};var le=_({name:te,inheritAttrs:!1,props:ae,setup(e,{slots:o,attrs:m}){const l=()=>{var i;return h("div",A({class:[$({inset:e.inset}),{[X]:e.border&&!e.inset}]},m,U()),[(i=o.default)==null?void 0:i.call(o)])},c=()=>h("div",{class:$("title",{inset:e.inset})},[o.title?o.title():e.title]);return()=>e.title||o.title?h(q,null,[c(),l()]):l()}});const be=E(le),[ie,fe]=V("checkbox-group"),oe=Symbol(ie),[ce,re]=V("checkbox"),se=T({},z,{shape:String,bindGroup:B,indeterminate:{type:Boolean,default:null}});var de=_({name:ce,props:se,emits:["change","update:modelValue"],setup(e,{emit:o,slots:m}){const{parent:l}=H(oe),c=r=>{const{name:v}=e,{max:P,modelValue:S}=l.props,s=S.slice();if(r)!(P&&s.length>=+P)&&!s.includes(v)&&(s.push(v),e.bindGroup&&l.updateValue(s));else{const a=s.indexOf(v);a!==-1&&(s.splice(a,1),e.bindGroup&&l.updateValue(s))}},i=x(()=>l&&e.bindGroup?l.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),C=(r=!i.value)=>{l&&e.bindGroup?c(r):o("update:modelValue",r),e.indeterminate!==null&&o("change",r)};return J(()=>e.modelValue,r=>{e.indeterminate===null&&o("change",r)}),F({toggle:C,props:e,checked:i}),L(()=>e.modelValue),()=>h(ne,A({bem:re,role:"checkbox",parent:l,checked:i.value,onToggle:C},e),W(m,["default","icon"]))}});const he=E(de);export{be as C,me as F,he as a};
