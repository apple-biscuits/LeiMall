!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return n};var e,n={},r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(t,e,o){t[e]=o.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",h=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,o){return t[e]=o}}function p(t,e,o,n){var r=e&&e.prototype instanceof k?e:k,i=Object.create(r.prototype),a=new M(n||[]);return s(i,"_invoke",{value:B(t,o,a)}),i}function f(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var d="suspendedStart",v="suspendedYield",y="executing",g="completed",m={};function k(){}function b(){}function T(){}var w={};u(w,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(X([])));S&&S!==r&&i.call(S,c)&&(w=S);var P=T.prototype=k.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,s,a,c){var h=f(t[r],t,s);if("throw"!==h.type){var l=h.arg,u=l.value;return u&&"object"==o(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(h.arg)}var r;s(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}})}function B(t,o,n){var r=d;return function(i,s){if(r===y)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw s;return{value:e,done:!0}}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=y;var h=f(t,o,n);if("normal"===h.type){if(r=n.done?g:v,h.arg===m)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r=g,n.method="throw",n.arg=h.arg)}}}function O(t,o){var n=o.method,r=t.iterator[n];if(r===e)return o.delegate=null,"throw"===n&&t.iterator.return&&(o.method="return",o.arg=e,O(t,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,t.iterator,o.arg);if("throw"===i.type)return o.method="throw",o.arg=i.arg,o.delegate=null,m;var s=i.arg;return s?s.done?(o[t.resultName]=s.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,m):s:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,m)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function X(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function o(){for(;++r<t.length;)if(i.call(t,r))return o.value=t[r],o.done=!1,o;return o.value=e,o.done=!0,o};return s.next=s}}throw new TypeError(o(t)+" is not iterable")}return b.prototype=T,s(P,"constructor",{value:T,configurable:!0}),s(T,"constructor",{value:b,configurable:!0}),b.displayName=u(T,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,u(t,l,"GeneratorFunction")),t.prototype=Object.create(P),t},n.awrap=function(t){return{__await:t}},E(C.prototype),u(C.prototype,h,(function(){return this})),n.AsyncIterator=C,n.async=function(t,e,o,r,i){void 0===i&&(i=Promise);var s=new C(p(t,e,o,r),i);return n.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(P),u(P,l,"Generator"),u(P,c,(function(){return this})),u(P,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),o=[];for(var n in e)o.push(n);return o.reverse(),function t(){for(;o.length;){var n=o.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=X,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function n(n,r){return a.type="throw",a.arg=t,o.next=n,r&&(o.method="next",o.arg=e),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),h=i.call(s,"finallyLoc");if(c&&h){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),L(o),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var n=o.completion;if("throw"===n.type){var r=n.arg;L(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,n){return this.delegate={iterator:X(t),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=e),m}},n}function e(t,e,o,n,r,i,s){try{var a=t[i](s),c=a.value}catch(h){return void o(h)}a.done?e(c):Promise.resolve(c).then(n,r)}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,r,i,s,a=[],c=!0,h=!1;try{if(i=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;c=!1}else for(;!(c=(n=i.call(o)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){h=!0,r=t}finally{try{if(!c&&null!=o.return&&(s=o.return(),Object(s)!==s))return}finally{if(h)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}System.register(["./index-legacy-70388b8a.js","./ShopIndex-legacy-604528a1.js","./GoodsItem-legacy-1b7ae926.js","./index-legacy-4f638d6a.js","./index-legacy-decc04f0.js","./index-legacy-5fd0dc08.js","./useAutoPx-legacy-f5d960b0.js","./index-legacy-ed2f9fe5.js","./use-id-legacy-fe1df8fa.js","./index-legacy-30a9912f.js","./ShopingCart-legacy-46d36352.js","./useAddCartAnimation-legacy-4ecd6ba3.js","./user-legacy-2e34615d.js"],(function(i,s){"use strict";var a,c,h,l,u,p,f,d,v,y,g,m,k,b,T,w,x,S,P,E,C,B,O,D,L,M,X,Y,z,A,j,I,_,F,H,K,R,N,W,G,q,U;return{setters:[function(t){a=t.c,c=t.d,h=t.r,l=t.s,u=t.h,p=t.ar,f=t.a,d=t._,v=t.j,y=t.i,g=t.w,m=t.b,k=t.e,b=t.b8,T=t.t,w=t.v,x=t.ab,S=t.l,P=t.y,E=t.k,C=t.n,B=t.aF,O=t.a$,D=t.x,L=t.q,M=t.aK,X=t.z,Y=t.aS,z=t.b7,A=t.g,j=t.ai,I=t.D,_=t.E,F=t.N,H=t.O,K=t.P,R=t.H,N=t.I,W=t.V,G=t.W},function(t){q=t.g},function(t){U=t.G},null,null,null,null,null,null,null,null,null,null],execute:function(){var s=document.createElement("style");s.textContent=":root{--van-index-bar-sidebar-z-index: 2;--van-index-bar-index-font-size: var(--van-font-size-xs);--van-index-bar-index-line-height: var(--van-line-height-xs);--van-index-bar-index-active-color: var(--van-primary-color)}.van-index-bar__sidebar{position:fixed;top:50%;right:0;z-index:var(--van-index-bar-sidebar-z-index);display:flex;flex-direction:column;text-align:center;transform:translateY(-50%);cursor:pointer;-webkit-user-select:none;user-select:none}.van-index-bar__index{padding:0 var(--van-padding-xs) 0 var(--van-padding-md);font-weight:var(--van-font-bold);font-size:var(--van-index-bar-index-font-size);line-height:var(--van-index-bar-index-line-height)}.van-index-bar__index--active{color:var(--van-index-bar-index-active-color);font-weight:700}:root{--van-index-anchor-z-index: 1;--van-index-anchor-padding: 0 var(--van-padding-md);--van-index-anchor-text-color: var(--van-text-color);--van-index-anchor-font-weight: var(--van-font-bold);--van-index-anchor-font-size: var(--van-font-size-md);--van-index-anchor-line-height: 32px;--van-index-anchor-background: transparent;--van-index-anchor-sticky-text-color: var(--van-primary-color);--van-index-anchor-sticky-background: var(--van-background-2)}.van-index-anchor{z-index:var(--van-index-anchor-z-index);box-sizing:border-box;padding:var(--van-index-anchor-padding);color:var(--van-index-anchor-text-color);font-weight:var(--van-index-anchor-font-weight);font-size:var(--van-index-anchor-font-size);line-height:var(--van-index-anchor-line-height);background:var(--van-index-anchor-background)}.van-index-anchor--sticky{position:fixed;top:0;right:0;left:0;color:var(--van-index-anchor-sticky-text-color);background:var(--van-index-anchor-sticky-background)}.goods-list{--van-index-anchor-sticky-text-color: #ff445b}\n",document.head.appendChild(s);var $=r(a("index-bar"),2),V=$[0],Z=$[1],J={sticky:T,zIndex:w,teleport:[String,Object],highlightColor:String,stickyOffsetTop:x(0),indexList:{type:Array,default:function(){var t="A".charCodeAt(0);return Array(26).fill("").map((function(e,o){return String.fromCharCode(t+o)}))}}},Q=Symbol(V),tt=c({name:V,props:J,emits:["select","change"],setup:function(t,e){var o,n=e.emit,r=e.slots,i=h(),s=h(),a=h(""),c=l(),T=u(i),w=p(Q),x=w.children;(0,w.linkChildren)({props:t});var L=f((function(){if(d(t.zIndex))return{zIndex:+t.zIndex+1}})),M=f((function(){if(t.highlightColor)return{color:t.highlightColor}})),X=function(e,o){for(var n=x.length-1;n>=0;n--){var r=n>0?o[n-1].height:0;if(e+(t.sticky?r+t.stickyOffsetTop:0)>=o[n].top)return n}return-1},Y=function(t){return x.find((function(e){return String(e.index)===t}))},z=function(){if(!S(i)){var e=t.sticky,n=t.indexList,r=P(T.value),s=E(T),c=x.map((function(t){return t.getRect(T.value,s)})),h=-1;if(o){var l=Y(o);if(l){var u=l.getRect(T.value,s);h=X(u.top,c)}}else h=X(r,c);a.value=n[h],e&&x.forEach((function(e,n){var i=e.state,a=e.$el;if(n===h||n===h-1){var l=a.getBoundingClientRect();i.left=l.left,i.width=l.width}else i.left=null,i.width=null;if(n===h)i.active=!0,i.top=Math.max(t.stickyOffsetTop,c[n].top-r)+s.top;else if(n===h-1&&""===o){var u=c[h].top-r;i.active=u>0,i.top=u+s.top-c[n].height}else i.active=!1})),o=""}},A=function(){C(z)};v("scroll",z,{target:T,passive:!0}),y(A),g((function(){return t.indexList}),A),g(a,(function(t){t&&n("change",t)}));var j,I=function(e){o=String(e);var r=Y(o);if(r){var i=P(T.value),s=E(T),a=document.documentElement.offsetHeight;if(r.$el.scrollIntoView(),i===a-s.height)return void z();t.sticky&&t.stickyOffsetTop&&B(O()-t.stickyOffsetTop),n("select",r.index)}},_=function(t){var e=t.dataset.index;e&&I(e)},F=function(t){_(t.target)},H=function(){return k("div",{ref:s,class:Z("sidebar"),style:L.value,onClick:F,onTouchstartPassive:c.start},[t.indexList.map((function(t){var e=t===a.value;return k("span",{class:Z("index",{active:e}),style:e?M.value:void 0,"data-index":t},[t])}))])};return m({scrollTo:I}),v("touchmove",(function(t){if(c.move(t),c.isVertical()){D(t);var e=t.touches[0],o=e.clientX,n=e.clientY,r=document.elementFromPoint(o,n);if(r){var i=r.dataset.index;i&&j!==i&&(j=i,_(r))}}}),{target:s}),function(){var e;return k("div",{ref:i,class:Z()},[t.teleport?k(b,{to:t.teleport},{default:function(){return[H()]}}):H(),null==(e=r.default)?void 0:e.call(r)])}}}),et=r(a("index-anchor"),2),ot=et[0],nt=et[1],rt=c({name:ot,props:{index:w},setup:function(t,e){var o=e.slots,r=L({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),i=h(),s=M(Q).parent;if(s){var a=function(){return r.active&&s.props.sticky},c=f((function(){var t=s.props,e=t.zIndex,o=t.highlightColor;if(a())return X(Y(e),{left:r.left?"".concat(r.left,"px"):void 0,width:r.width?"".concat(r.width,"px"):void 0,transform:r.top?"translate3d(0, ".concat(r.top,"px, 0)"):void 0,color:o})}));return m({state:r,getRect:function(t,e){var o=E(i);return r.rect.height=o.height,t===window||t===document.body?r.rect.top=o.top+O():r.rect.top=o.top+P(t)-e.top,r.rect}}),function(){var e=a();return k("div",{ref:i,style:{height:e?"".concat(r.rect.height,"px"):void 0}},[k("div",{style:c.value,class:[nt({sticky:e}),n({},z,e)]},[o.default?o.default():t.index])])}}}}),it=A(rt),st=A(tt),at=function(t,e){return at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},at(t,e)};function ct(t,e){function o(){this.constructor=t}at(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var ht=function(){return ht=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ht.apply(this,arguments)};function lt(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,r++)n[r]=i[s];return n}var ut=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function pt(t){console.error("[BScroll warn]: "+t)}var ft="undefined"!=typeof window,dt=ft&&navigator.userAgent.toLowerCase(),vt=!(!dt||!/wechatdevtools/.test(dt)),yt=dt&&dt.indexOf("android")>0,gt=function(){if("string"==typeof dt){var t=/os (\d\d?_\d(_\d)?)/.exec(dt);if(!t)return!1;var e=t[1].split("_").map((function(t){return parseInt(t,10)}));return!!(13===e[0]&&e[1]>=4)}return!1}(),mt=!1;if(ft){try{var kt={};Object.defineProperty(kt,"passive",{get:function(){mt=!0}}),window.addEventListener("test-passive",(function(){}),kt)}catch(we){}}function bt(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var Tt=function(t,e){for(var o in e)t[o]=e[o];return t};function wt(t){return null==t}function xt(t,e,o){return t<e?e:t>o?o:t}var St=ft&&document.createElement("div").style,Pt=function(){if(!ft)return!1;for(var t=0,e=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];t<e.length;t++){var o=e[t];if(void 0!==St[o.value])return o.key}return!1}();function Et(t){return!1===Pt?t:"standard"===Pt?"transitionEnd"===t?"transitionend":t:Pt+t.charAt(0).toUpperCase()+t.substr(1)}function Ct(t){return"string"==typeof t?document.querySelector(t):t}function Bt(t,e,o,n){var r=mt?{passive:!1,capture:!!n}:!!n;t.addEventListener(e,o,r)}function Ot(t,e,o,n){t.removeEventListener(e,o,{capture:!!n})}function Dt(t){t.cancelable&&t.preventDefault()}function Lt(t){for(var e=0,o=0;t;)e-=t.offsetLeft,o-=t.offsetTop,t=t.offsetParent;return{left:e,top:o}}Pt&&"standard"!==Pt&&Pt.toLowerCase();var Mt=Et("transform"),Xt=Et("transition"),Yt=ft&&Et("perspective")in St,zt=ft&&("ontouchstart"in window||vt),At=ft&&Xt in St,jt={transform:Mt,transition:Xt,transitionTimingFunction:Et("transitionTimingFunction"),transitionDuration:Et("transitionDuration"),transitionDelay:Et("transitionDelay"),transformOrigin:Et("transformOrigin"),transitionEnd:Et("transitionEnd"),transitionProperty:Et("transitionProperty")},It={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function _t(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function Ft(t,e){for(var o in e)if(e[o].test(t[o]))return!0;return!1}var Ht=Ft;function Kt(t,e){var o;void 0===e&&(e="click"),"mouseup"===t.type?o=t:"touchend"!==t.type&&"touchcancel"!==t.type||(o=t.changedTouches[0]);var n,r={};o&&(r.screenX=o.screenX||0,r.screenY=o.screenY||0,r.clientX=o.clientX||0,r.clientY=o.clientY||0);var i={ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey};if("undefined"!=typeof MouseEvent)try{n=new MouseEvent(e,Tt(ht({bubbles:true,cancelable:true},i),r))}catch(t){s()}else s();function s(){(n=document.createEvent("Event")).initEvent(e,true,true),Tt(n,r)}n.forwardedTouchEvent=!0,n._constructed=!0,t.target.dispatchEvent(n)}var Rt={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},Nt=ft&&window;function Wt(){}var Gt=ft?Nt.requestAnimationFrame||Nt.webkitRequestAnimationFrame||Nt.mozRequestAnimationFrame||Nt.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||16.666666666666668)}:Wt,qt=ft?Nt.cancelAnimationFrame||Nt.webkitCancelAnimationFrame||Nt.mozCancelAnimationFrame||Nt.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:Wt,Ut=function(t){},$t={enumerable:!0,configurable:!0,get:Ut,set:Ut};function Vt(t,e,n){$t.get=function(){return function(t,e){for(var n=e.split("."),r=0;r<n.length-1;r++)if("object"!==o(t=t[n[r]])||!t)return;var i=n.pop();return"function"==typeof t[i]?function(){return t[i].apply(t,arguments)}:t[i]}(this,e)},$t.set=function(t){!function(t,e,o){for(var n,r=e.split("."),i=0;i<r.length-1;i++)t[n=r[i]]||(t[n]={}),t=t[n];t[r.pop()]=o}(this,e,t)},Object.defineProperty(t,n,$t)}var Zt=function(){function t(t){this.events={},this.eventTypes={},this.registerType(t)}return t.prototype.on=function(t,e,o){return void 0===o&&(o=this),this.hasType(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,o]),this},t.prototype.once=function(t,e,o){var n=this;void 0===o&&(o=this),this.hasType(t);var r=function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];n.off(t,r);var a=e.apply(o,i);if(!0===a)return a};return r.fn=e,this.on(t,r),this},t.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this.hasType(t),!e)return this.events[t]=[],this;var o=this.events[t];if(!o)return this;for(var n=o.length;n--;)(o[n][0]===e||o[n][0]&&o[n][0].fn===e)&&o.splice(n,1);return this}},t.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.hasType(t);var n=this.events[t];if(n)for(var r,i=n.length,s=lt(n),a=0;a<i;a++){var c=s[a],h=c[0],l=c[1];if(h&&!0===(r=h.apply(l,e)))return r}},t.prototype.registerType=function(t){var e=this;t.forEach((function(t){e.eventTypes[t]=t}))},t.prototype.destroy=function(){this.events={},this.eventTypes={}},t.prototype.hasType=function(t){var e=this.eventTypes;e[t]===t||pt('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+Object.keys(e).map((function(t){return JSON.stringify(t)}))+"]")},t}(),Jt=function(){function t(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(Bt)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(Ot)},t.prototype.handleDOMEvents=function(t){var e=this,o=this.wrapper;this.events.forEach((function(n){t(o,n.name,e,!!n.capture)}))},t.prototype.handleEvent=function(t){var e=t.type;this.events.some((function(o){return o.name===e&&(o.handler(t),!0)}))},t}(),Qt=function(t){function e(){var e=t.call(this)||this;return e.startX=0,e.startY=0,e.scrollX=!1,e.scrollY=!0,e.freeScroll=!1,e.directionLockThreshold=0,e.eventPassthrough="",e.click=!1,e.dblclick=!1,e.tap="",e.bounce={top:!0,bottom:!0,left:!0,right:!0},e.bounceTime=800,e.momentum=!0,e.momentumLimitTime=300,e.momentumLimitDistance=15,e.swipeTime=2500,e.swipeBounceTime=500,e.deceleration=.0015,e.flickLimitTime=200,e.flickLimitDistance=100,e.resizePolling=60,e.probeType=0,e.stopPropagation=!1,e.preventDefault=!0,e.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},e.tagException={tagName:/^TEXTAREA$/},e.HWCompositing=!0,e.useTransition=!0,e.bindToWrapper=!1,e.bindToTarget=!1,e.disableMouse=zt,e.disableTouch=!zt,e.autoBlur=!0,e.autoEndDistance=5,e.outOfBoundaryDampingFactor=1/3,e.specifiedIndexAsContent=0,e.quadrant=1,e}return ct(e,t),e.prototype.merge=function(t){if(!t)return this;for(var e in t)"bounce"!==e?this[e]=t[e]:this.bounce=this.resolveBounce(t[e]);return this},e.prototype.process=function(){return this.translateZ=this.HWCompositing&&Yt?" translateZ(1px)":"",this.useTransition=this.useTransition&&At,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX="horizontal"!==this.eventPassthrough&&this.scrollX,this.scrollY="vertical"!==this.eventPassthrough&&this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=!!this.freeScroll||this.scrollX,this.scrollY=!!this.freeScroll||this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},e.prototype.resolveBounce=function(t){var e={top:!0,right:!0,bottom:!0,left:!0};return"object"===o(t)?Tt(e,t):t?e:{top:!1,right:!1,bottom:!1,left:!1}},e}((function(){})),te=function(){function t(t,e){this.wrapper=t,this.options=e,this.hooks=new Zt(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return t.prototype.handleDOMEvents=function(){var t=this.options,e=t.bindToWrapper,o=t.disableMouse,n=t.disableTouch,r=t.click,i=this.wrapper,s=e?i:window,a=[],c=[],h=!n,l=!o;r&&a.push({name:"click",handler:this.click.bind(this),capture:!0}),h&&(a.push({name:"touchstart",handler:this.start.bind(this)}),c.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),l&&(a.push({name:"mousedown",handler:this.start.bind(this)}),c.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new Jt(i,a),this.targetEventRegister=new Jt(s,c)},t.prototype.beforeHandler=function(t,e){var o=this.options,n=o.preventDefault,r=o.stopPropagation,i=o.preventDefaultException;({start:function(){return n&&!Ft(t.target,i)},end:function(){return n&&!Ft(t.target,i)},move:function(){return n}})[e]()&&t.preventDefault(),r&&t.stopPropagation()},t.prototype.setInitiated=function(t){void 0===t&&(t=0),this.initiated=t},t.prototype.start=function(t){var e=It[t.type];if(!this.initiated||this.initiated===e)if(this.setInitiated(e),Ht(t.target,this.options.tagException))this.setInitiated();else if((2!==e||0===t.button)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,t)){this.beforeHandler(t,"start");var o=t.touches?t.touches[0]:t;this.pointX=o.pageX,this.pointY=o.pageY,this.hooks.trigger(this.hooks.eventTypes.start,t)}},t.prototype.move=function(t){if(It[t.type]===this.initiated){this.beforeHandler(t,"move");var e=t.touches?t.touches[0]:t,o=e.pageX-this.pointX,n=e.pageY-this.pointY;if(this.pointX=e.pageX,this.pointY=e.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:o,deltaY:n,e:t})){var r=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,i=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,s=this.pointX-r,a=this.pointY-i,c=this.options.autoEndDistance;(s>document.documentElement.clientWidth-c||a>document.documentElement.clientHeight-c||s<c||a<c)&&this.end(t)}}},t.prototype.end=function(t){It[t.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(t,"end"),this.hooks.trigger(this.hooks.eventTypes.end,t))},t.prototype.click=function(t){this.hooks.trigger(this.hooks.eventTypes.click,t)},t.prototype.setContent=function(t){t!==this.wrapper&&(this.wrapper=t,this.rebindDOMEvents())},t.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},t.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},t}(),ee={x:["translateX","px"],y:["translateY","px"]},oe=function(){function t(t){this.setContent(t),this.hooks=new Zt(["beforeTranslate","translate"])}return t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.content,null)[jt.transform].split(")")[0].split(", ");return{x:+(t[12]||t[4])||0,y:+(t[13]||t[5])||0}},t.prototype.translate=function(t){var e=[];Object.keys(t).forEach((function(o){if(ee[o]){var n=ee[o][0];if(n){var r=ee[o][1],i=t[o];e.push(n+"("+i+r+")")}}})),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,e,t),this.style[jt.transform]=e.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,t)},t.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),ne=function(){function t(t,e,o){this.translater=e,this.options=o,this.timer=0,this.hooks=new Zt(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(t)}return t.prototype.translate=function(t){this.translater.translate(t)},t.prototype.setPending=function(t){this.pending=t},t.prototype.setForceStopped=function(t){this.forceStopped=t},t.prototype.setCallStop=function(t){this.callStopWhenPending=t},t.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style,this.stop())},t.prototype.clearTimer=function(){this.timer&&(qt(this.timer),this.timer=0)},t.prototype.destroy=function(){this.hooks.destroy(),qt(this.timer)},t}(),re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype.startProbe=function(t,e){var o=this,n=t;this.callStopWhenPending&&this.setCallStop(!1),qt(this.timer),function r(){var i=o.translater.getComputedPosition();(function(t,e,o,n){var r=function(t,e){var o=t-e;return o>0?-1:o<0?1:0},i=r(e.x,t.x),s=r(e.y,t.y),a=o.x-n.x,c=o.y-n.y;return i*a<=0&&s*c<=0})(t,e,i,n)&&o.hooks.trigger(o.hooks.eventTypes.move,i),o.pending||(o.callStopWhenPending?o.callStopWhenPending=!1:o.hooks.trigger(o.hooks.eventTypes.end,i)),n=i,o.pending&&(o.timer=Gt(r))}()},e.prototype.transitionTime=function(t){void 0===t&&(t=0),this.style[jt.transitionDuration]=t+"ms",this.hooks.trigger(this.hooks.eventTypes.time,t)},e.prototype.transitionTimingFunction=function(t){this.style[jt.transitionTimingFunction]=t,this.hooks.trigger(this.hooks.eventTypes.timeFunction,t)},e.prototype.transitionProperty=function(){this.style[jt.transitionProperty]=jt.transform},e.prototype.move=function(t,e,o,n){this.setPending(o>0),this.transitionTimingFunction(n),this.transitionProperty(),this.transitionTime(o),this.translate(e);var r=3===this.options.probeType;o&&r&&this.startProbe(t,e),o||(this._reflow=this.content.offsetHeight,r&&this.hooks.trigger(this.hooks.eventTypes.move,e),this.hooks.trigger(this.hooks.eventTypes.end,e))},e.prototype.doStop=function(){var t=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),t){this.setPending(!1),qt(this.timer);var e=this.translater.getComputedPosition(),o=e.x,n=e.y;this.transitionTime(),this.translate({x:o,y:n}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:o,y:n})}return t},e.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(ne),ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype.move=function(t,e,o,n){if(!o)return this.translate(e),3===this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.move,e),void this.hooks.trigger(this.hooks.eventTypes.end,e);this.animate(t,e,o,n)},e.prototype.animate=function(t,e,o,n){var r=this,i=bt(),s=i+o,a=3===this.options.probeType;this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),qt(this.timer),function c(){var h=bt();if(h>=s)return r.translate(e),a&&r.hooks.trigger(r.hooks.eventTypes.move,e),void r.hooks.trigger(r.hooks.eventTypes.end,e);var l=n(h=(h-i)/o),u={};Object.keys(e).forEach((function(o){var n=t[o],r=e[o];u[o]=(r-n)*l+n})),r.translate(u),a&&r.hooks.trigger(r.hooks.eventTypes.move,u),r.pending&&(r.timer=Gt(c)),r.pending||(r.callStopWhenPending?r.callStopWhenPending=!1:r.hooks.trigger(r.hooks.eventTypes.end,e))}()},e.prototype.doStop=function(){var t=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),t){this.setPending(!1),qt(this.timer);var e=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,e)}return t},e.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(ne);var se,ae,ce,he,le=function(){function t(t,e,o){this.wrapper=t,this.options=o,this.hooks=new Zt(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(e)}return t.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},t.prototype.move=function(t){return t=this.hasScroll?t:0,this.setMovingDirection(t),this.performDampingAlgorithm(t,this.options.outOfBoundaryDampingFactor)},t.prototype.setMovingDirection=function(t){this.movingDirection=t>0?-1:t<0?1:0},t.prototype.setDirection=function(t){this.direction=t>0?-1:t<0?1:0},t.prototype.performDampingAlgorithm=function(t,e){var o=this.currentPos+t;return(o>this.minScrollPos||o<this.maxScrollPos)&&(o=o>this.minScrollPos&&this.options.bounces[0]||o<this.maxScrollPos&&this.options.bounces[1]?this.currentPos+t*e:o>this.minScrollPos?this.minScrollPos:this.maxScrollPos),o},t.prototype.end=function(t){var e={duration:0},o=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&t<this.options.momentumLimitTime&&o>this.options.momentumLimitDistance){var n=-1===this.direction&&this.options.bounces[0]||1===this.direction&&this.options.bounces[1]?this.wrapperSize:0;e=this.hasScroll?this.momentum(this.currentPos,this.startPos,t,this.maxScrollPos,this.minScrollPos,n,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,e);return e},t.prototype.momentum=function(t,e,o,n,r,i,s){void 0===s&&(s=this.options);var a=t-e,c=Math.abs(a)/o,h=s.deceleration,l=s.swipeBounceTime,u=s.swipeTime,p={destination:t+c*c/h*(a<0?-1:1),duration:Math.min(u,2*c/h),rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,p,a),p.destination<n?(p.destination=i?Math.max(n-i/4,n-i/p.rate*c):n,p.duration=l):p.destination>r&&(p.destination=i?Math.min(r+i/4,r+i/p.rate*c):r,p.duration=l),p.destination=Math.round(p.destination),p},t.prototype.updateDirection=function(){var t=this.currentPos-this.absStartPos;this.setDirection(t)},t.prototype.refresh=function(t){var e=this.options.rect,o=e.size,n=e.position,r="static"===window.getComputedStyle(this.wrapper,null).position,i=_t(this.wrapper);this.wrapperSize=this.wrapper["width"===o?"clientWidth":"clientHeight"],this.setContent(t);var s=_t(this.content);this.contentSize=s[o],this.relativeOffset=s[n],r&&(this.relativeOffset-=i[n]),this.computeBoundary(),this.setDirection(0)},t.prototype.setContent=function(t){t!==this.content&&(this.content=t,this.resetState())},t.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},t.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var t={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};t.maxScrollPos<0&&(t.maxScrollPos-=this.relativeOffset,0===this.options.specifiedIndexAsContent&&(t.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,t),this.minScrollPos=t.minScrollPos,this.maxScrollPos=t.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},t.prototype.updatePosition=function(t){this.currentPos=t},t.prototype.getCurrentPos=function(){return this.currentPos},t.prototype.checkInBoundary=function(){var t=this.adjustPosition(this.currentPos);return{position:t,inBoundary:t===this.getCurrentPos()}},t.prototype.adjustPosition=function(t){return this.hasScroll||this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?t>this.minScrollPos?t=this.minScrollPos:t<this.maxScrollPos&&(t=this.maxScrollPos):t=this.minScrollPos,t},t.prototype.updateStartPos=function(){this.startPos=this.currentPos},t.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},t.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},t.prototype.getAbsDist=function(t){return this.dist+=t,Math.abs(this.dist)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),ue=((se={}).yes=function(t){return!0},se.no=function(t){return Dt(t),!1},se),pe=((ae={}).horizontal=((ce={}).yes="horizontal",ce.no="vertical",ce),ae.vertical=((he={}).yes="vertical",he.no="horizontal",he),ae),fe=function(){function t(t,e,o){this.directionLockThreshold=t,this.freeScroll=e,this.eventPassthrough=o,this.reset()}return t.prototype.reset=function(){this.directionLocked=""},t.prototype.checkMovingDirection=function(t,e,o){return this.computeDirectionLock(t,e),this.handleEventPassthrough(o)},t.prototype.adjustDelta=function(t,e){return"horizontal"===this.directionLocked?e=0:"vertical"===this.directionLocked&&(t=0),{deltaX:t,deltaY:e}},t.prototype.computeDirectionLock=function(t,e){""!==this.directionLocked||this.freeScroll||(t>e+this.directionLockThreshold?this.directionLocked="horizontal":e>=t+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},t.prototype.handleEventPassthrough=function(t){var e=pe[this.directionLocked];if(e){if(this.eventPassthrough===e.yes)return ue.yes(t);if(this.eventPassthrough===e.no)return ue.no(t)}return!1},t}(),de=function(){function t(t,e,o,n,r){this.hooks=new Zt(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=t,this.scrollBehaviorY=e,this.actionsHandler=o,this.animater=n,this.options=r,this.directionLockAction=new fe(r.directionLockThreshold,r.freeScroll,r.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return t.prototype.bindActionsHandler=function(){var t=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,(function(e){return!t.enabled||t.handleStart(e)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,(function(e){var o=e.deltaX,n=e.deltaY,r=e.e;if(!t.enabled)return!0;var i=function(t,e,o){return 2===o?[e,-t]:3===o?[-t,-e]:4===o?[-e,t]:[t,e]}(o,n,t.options.quadrant),s={deltaX:i[0],deltaY:i[1]};return t.hooks.trigger(t.hooks.eventTypes.coordinateTransformation,s),t.handleMove(s.deltaX,s.deltaY,r)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,(function(e){return!t.enabled||t.handleEnd(e)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,(function(e){t.enabled&&!e._constructed&&t.handleClick(e)}))},t.prototype.handleStart=function(t){var e=bt();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=e,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,t)},t.prototype.handleMove=function(t,e,o){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,o)){var n=this.scrollBehaviorX.getAbsDist(t),r=this.scrollBehaviorY.getAbsDist(e),i=bt();if(this.checkMomentum(n,r,i))return!0;if(this.directionLockAction.checkMovingDirection(n,r,o))return this.actionsHandler.setInitiated(),!0;var s=this.directionLockAction.adjustDelta(t,e),a=this.scrollBehaviorX.getCurrentPos(),c=this.scrollBehaviorX.move(s.deltaX),h=this.scrollBehaviorY.getCurrentPos(),l=this.scrollBehaviorY.move(s.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var u=c!==a||l!==h;this.contentMoved||u||this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&u&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&u&&(this.animater.translate({x:c,y:l}),this.dispatchScroll(i))}}},t.prototype.dispatchScroll=function(t){t-this.startTime>this.options.momentumLimitTime&&(this.startTime=t,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),1===this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},t.prototype.checkMomentum=function(t,e,o){return o-this.endTime>this.options.momentumLimitTime&&e<this.options.momentumLimitDistance&&t<this.options.momentumLimitDistance},t.prototype.handleEnd=function(t){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,t)){var e=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,t,e))return!0;e=this.ensureIntegerPos(e),this.animater.translate(e),this.endTime=bt();var o=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,e,o)}},t.prototype.ensureIntegerPos=function(t){this.ensuringInteger=!0;var e=t.x,o=t.y,n=this.scrollBehaviorX,r=n.minScrollPos,i=n.maxScrollPos,s=this.scrollBehaviorY,a=s.minScrollPos,c=s.maxScrollPos;return e=e>0?Math.ceil(e):Math.floor(e),o=o>0?Math.ceil(o):Math.floor(o),{x:e=xt(e,i,r),y:o=xt(o,c,a)}},t.prototype.handleClick=function(t){Ft(t.target,this.options.preventDefaultException)||(Dt(t),t.stopPropagation())},t.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},t.prototype.refresh=function(){this.endTime=0},t.prototype.destroy=function(){this.hooks.destroy()},t}();function ve(t,e,o,n){var r=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce((function(e,o){return e[o]=t[o],e}),{});return r.scrollable=!!t[e],r.bounces=o,r.rect=n,r}function ye(t,e,o){o.forEach((function(o){var n,r;"string"==typeof o?n=r=o:(n=o.source,r=o.target),t.on(n,(function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e.trigger.apply(e,lt([r],t))}))}))}var ge=function(){function t(t,e,o){this.wrapper=t,this.content=e,this.resizeTimeout=0,this.hooks=new Zt(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=o;var n,r=this.options.bounce,i=r.left,s=r.right,a=r.top,c=r.bottom;this.scrollBehaviorX=new le(t,e,ve(o,"scrollX",[i,s],{size:"width",position:"left"})),this.scrollBehaviorY=new le(t,e,ve(o,"scrollY",[a,c],{size:"height",position:"top"})),this.translater=new oe(this.content),this.animater=function(t,e,o){var n=o.useTransition,r={};return Object.defineProperty(r,"probeType",{enumerable:!0,configurable:!1,get:function(){return o.probeType}}),n?new re(t,e,r):new ie(t,e,r)}(this.content,this.translater,this.options),this.actionsHandler=new te(this.options.bindToTarget?this.content:t,(n=this.options,["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce((function(t,e){return t[e]=n[e],t}),{}))),this.actions=new de(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var h=this.resize.bind(this);this.resizeRegister=new Jt(window,[{name:"orientationchange",handler:h},{name:"resize",handler:h}]),this.registerTransitionEnd(),this.init()}return t.prototype.init=function(){var t=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,(function(){t.togglePointerEvents(!0)}))},t.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new Jt(this.content,[{name:jt.transitionEnd,handler:this.transitionEnd.bind(this)}])},t.prototype.bindTranslater=function(){var t=this,e=this.translater.hooks;e.on(e.eventTypes.beforeTranslate,(function(e){t.options.translateZ&&e.push(t.options.translateZ)})),e.on(e.eventTypes.translate,(function(e){var o=t.getCurrentPos();t.updatePositions(e),!0!==t.actions.ensuringInteger?e.x===o.x&&e.y===o.y||t.togglePointerEvents(!1):t.actions.ensuringInteger=!1}))},t.prototype.bindAnimater=function(){var t=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,(function(e){t.resetPosition(t.options.bounceTime)||(t.animater.setPending(!1),t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e))})),ye(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},t.prototype.bindActions=function(){var t=this,e=this.actions;ye(e.hooks,this.hooks,[{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:e.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:e.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:e.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:e.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),e.hooks.on(e.hooks.eventTypes.end,(function(o,n){return t.hooks.trigger(t.hooks.eventTypes.touchEnd,n),!!t.hooks.trigger(t.hooks.eventTypes.end,n)||(!(e.fingerMoved||(t.hooks.trigger(t.hooks.eventTypes.scrollCancel),!t.checkClick(o)))||(t.resetPosition(t.options.bounceTime,Rt.bounce)?(t.animater.setForceStopped(!1),!0):void 0))})),e.hooks.on(e.hooks.eventTypes.scrollEnd,(function(o,n){var r=Math.abs(o.x-t.scrollBehaviorX.startPos),i=Math.abs(o.y-t.scrollBehaviorY.startPos);if(t.checkFlick(n,r,i))return t.animater.setForceStopped(!1),void t.hooks.trigger(t.hooks.eventTypes.flick);t.momentum(o,n)?t.animater.setForceStopped(!1):(e.contentMoved&&t.hooks.trigger(t.hooks.eventTypes.scrollEnd,o),t.animater.forceStopped&&t.animater.setForceStopped(!1))}))},t.prototype.checkFlick=function(t,e,o){if(this.hooks.events.flick.length>1&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&o<this.options.flickLimitDistance&&(o>1||e>1))return!0},t.prototype.momentum=function(t,e){var o={time:0,easing:Rt.swiper,newX:t.x,newY:t.y},n=this.scrollBehaviorX.end(e),r=this.scrollBehaviorY.end(e);if(o.newX=wt(n.destination)?o.newX:n.destination,o.newY=wt(r.destination)?o.newY:r.destination,o.time=Math.max(n.duration,r.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,o,this),o.newX!==t.x||o.newY!==t.y)return(o.newX>this.scrollBehaviorX.minScrollPos||o.newX<this.scrollBehaviorX.maxScrollPos||o.newY>this.scrollBehaviorY.minScrollPos||o.newY<this.scrollBehaviorY.maxScrollPos)&&(o.easing=Rt.swipeBounce),this.scrollTo(o.newX,o.newY,o.time,o.easing),!0},t.prototype.checkClick=function(t){var e=this.animater.forceStopped;if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!e){var o=this.options.dblclick,n=!1;if(o&&this.lastClickTime){var r=o.delay,i=void 0===r?300:r;bt()-this.lastClickTime<i&&(n=!0,function(t){Kt(t,"dblclick")}(t))}return this.options.tap&&function(t,e){var o=document.createEvent("Event");o.initEvent(e,!0,!0),o.pageX=t.pageX,o.pageY=t.pageY,t.target.dispatchEvent(o)}(t,this.options.tap),this.options.click&&!Ft(t.target,this.options.preventDefaultException)&&Kt(t),this.lastClickTime=n?null:bt(),!0}return!1},t.prototype.resize=function(){var t=this;this.actions.enabled&&(yt&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout((function(){t.hooks.trigger(t.hooks.eventTypes.resize)}),this.options.resizePolling))},t.prototype.transitionEnd=function(t){t.target===this.content&&this.animater.pending&&(this.animater.transitionTime(),this.resetPosition(this.options.bounceTime,Rt.bounce)||(this.animater.setPending(!1),3!==this.options.probeType&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos())))},t.prototype.togglePointerEvents=function(t){void 0===t&&(t=!0);for(var e=this.content.children.length?this.content.children:[this.content],o=t?"auto":"none",n=0;n<e.length;n++){var r=e[n];r.isBScrollContainer||(r.style.pointerEvents=o)}},t.prototype.refresh=function(t){var e=this.setContent(t);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(t),this.scrollBehaviorY.refresh(t),e&&(this.translater.setContent(t),this.animater.setContent(t),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(t)),this.actions.refresh(),this.wrapperOffset=Lt(this.wrapper)},t.prototype.setContent=function(t){var e=t!==this.content;return e&&(this.content=t),e},t.prototype.scrollBy=function(t,e,o,n){void 0===o&&(o=0);var r=this.getCurrentPos(),i=r.x,s=r.y;n=n||Rt.bounce,t+=i,e+=s,this.scrollTo(t,e,o,n)},t.prototype.scrollTo=function(t,e,o,n,r){void 0===o&&(o=0),void 0===n&&(n=Rt.bounce),void 0===r&&(r={start:{},end:{}});var i=this.options.useTransition?n.style:n.fn,s=this.getCurrentPos(),a=ht({x:s.x,y:s.y},r.start),c=ht({x:t,y:e},r.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,c),!function(t,e){for(var o=0,n=Object.keys(t);o<n.length;o++){var r=n[o];if(t[r]!==e[r])return!1}return!0}(a,c)){var h=Math.abs(c.x-a.x),l=Math.abs(c.y-a.y);h<1&&l<1&&(o=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(a,c,o,i)}},t.prototype.scrollToElement=function(t,e,o,n,r){var i=Ct(t),s=Lt(i),a=function(t,e,o){return"number"==typeof t?t:t?Math.round(e/2-o/2):0};o=a(o,i.offsetWidth,this.wrapper.offsetWidth),n=a(n,i.offsetHeight,this.wrapper.offsetHeight);var c=function(t,e,o,n){return t-=e,t=n.adjustPosition(t-o)};s.left=c(s.left,this.wrapperOffset.left,o,this.scrollBehaviorX),s.top=c(s.top,this.wrapperOffset.top,n,this.scrollBehaviorY),this.hooks.trigger(this.hooks.eventTypes.scrollToElement,i,s)||this.scrollTo(s.left,s.top,e,r)},t.prototype.resetPosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=Rt.bounce);var o=this.scrollBehaviorX.checkInBoundary(),n=o.position,r=o.inBoundary,i=this.scrollBehaviorY.checkInBoundary(),s=i.position,a=i.inBoundary;return(!r||!a)&&(gt&&this.reflow(),this.scrollTo(n,s,t,e),!0)},t.prototype.reflow=function(){this._reflow=this.content.offsetHeight},t.prototype.updatePositions=function(t){this.scrollBehaviorX.updatePosition(t.x),this.scrollBehaviorY.updatePosition(t.y)},t.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},t.prototype.enable=function(){this.actions.enabled=!0},t.prototype.disable=function(){qt(this.animater.timer),this.actions.enabled=!1},t.prototype.destroy=function(){var t=this;["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"].forEach((function(e){return t[e].destroy()}))},t}(),me=function(t){function e(e,o){var n=t.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,r=Ct(e);return r?(n.plugins={},n.options=(new Qt).merge(o).process(),n.setContent(r).valid?(n.hooks=new Zt(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),n.init(r),n):n):(pt("Can not resolve the wrapper DOM."),n)}return ct(e,t),e.use=function(t){var o=t.pluginName;return e.plugins.some((function(e){return t===e.ctor}))?e:wt(o)?(pt("Plugin Class must specify plugin's name in static property by 'pluginName' field."),e):(e.pluginsMap[o]=!0,e.plugins.push({name:o,applyOrder:t.applyOrder,ctor:t}),e)},e.prototype.setContent=function(t){var e=!1,o=!0,n=t.children[this.options.specifiedIndexAsContent];return n?(e=this.content!==n)&&(this.content=n):(pt("The wrapper need at least one child element to be content element to scroll."),o=!1),{valid:o,contentChanged:e}},e.prototype.init=function(t){var e=this;this.wrapper=t,t.isBScrollContainer=!0,this.scroller=new ge(t,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,(function(){e.refresh()})),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(ut),this.applyPlugins(),this.refreshWithoutReset(this.content);var o=this.options,n={x:o.startX,y:o.startY};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,n)||this.scroller.scrollTo(n.x,n.y)},e.prototype.applyPlugins=function(){var t=this,o=this.options;e.plugins.sort((function(t,e){var o,n=((o={}).pre=-1,o.post=1,o);return(t.applyOrder?n[t.applyOrder]:0)-(e.applyOrder?n[e.applyOrder]:0)})).forEach((function(e){var n=e.ctor;o[e.name]&&"function"==typeof n&&(t.plugins[e.name]=new n(t))}))},e.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,(function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()}))},e.prototype.eventBubbling=function(){ye(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},e.prototype.refreshWithoutReset=function(t){this.scroller.refresh(t),this.hooks.trigger(this.hooks.eventTypes.refresh,t),this.trigger(this.eventTypes.refresh,t)},e.prototype.proxy=function(t){var e=this;t.forEach((function(t){var o=t.key,n=t.sourceKey;Vt(e,n,o)}))},e.prototype.refresh=function(){var t=this.setContent(this.wrapper),e=t.contentChanged;if(t.valid){var o=this.content;this.refreshWithoutReset(o),e&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,o),this.trigger(this.eventTypes.contentChanged,o)),this.scroller.resetPosition()}},e.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},e.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},e.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},e.prototype.eventRegister=function(t){this.registerType(t)},e.plugins=[],e.pluginsMap={},e}(Zt);function ke(t,e){return new me(t,e)}ke.use=me.use,ke.plugins=me.plugins,ke.pluginsMap=me.pluginsMap;var be=ke,Te={class:"goods-list"};i("default",c({__name:"AsyncGoodsList",setup:function(o){var n=j().params.shopId,r=h(""),i=h([]),s=f((function(){return i.value.map((function(t){return t.typename}))}));g(s,(function(t){t.length>0&&setTimeout((function(){new be(".scroll-wrapper",{click:!0})}),100)}),{immediate:!0});var a=function(){var o,s=(o=t().mark((function e(){var o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(Number(n));case 3:o=t.sent,i.value=o.data,r.value=o.shopName,console.log(i.value),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),i.value=[];case 12:case"end":return t.stop()}}),e,null,[[0,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=o.apply(t,n);function a(t){e(s,r,i,a,c,"next",t)}function c(t){e(s,r,i,a,c,"throw",t)}a(void 0)}))});return function(){return s.apply(this,arguments)}}();return a(),function(t,e){var o=it,a=st;return I(),_("div",Te,[k(a,{"index-list":s.value,teleport:"#menu",sticky:"","sticky-offset-top":28},{default:F((function(){return[(I(!0),_(H,null,K(i.value,(function(t){return I(),_(H,{key:t.typeId},[k(o,{index:t.typename},{default:F((function(){return[R(N(t.typename),1)]})),_:2},1032,["index"]),(I(!0),_(H,null,K(t.goods,(function(t){return I(),W(U,{key:t.goodsId,goods:t,"shop-id":Number(G(n)),"shop-name":r.value},null,8,["goods","shop-id","shop-name"])})),128))],64)})),128))]})),_:1},8,["index-list"])])}}}))}}}))}();
